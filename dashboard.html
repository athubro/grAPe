<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Grape Classroom</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    :root {
      --cosmic-purple: #5B21B6;
      --vibrant-purple: #8B5CF6;
      --light-lavender: #C4B5FD;
      --neon-magenta: #F0ABFC;
      --page-bg: #4C1D95;
    }

    body {
      @apply font-poppins bg-page-bg min-h-screen text-white overflow-x-hidden flex;
    }

    /* Sidebar */
    .sidebar {
      @apply fixed top-0 left-0 h-full w-64 bg-vibrant-purple/90 backdrop-blur-md shadow-xl z-50 flex flex-col items-center;
    }

    .sidebar button {
      @apply w-3/4 text-center px-4 py-3 text-white font-semibold hover:bg-neon-magenta/40 transition-all duration-200 flex items-center justify-center gap-3 rounded-lg;
    }

    .sidebar svg {
      @apply w-5 h-5;
    }

    /* Main Content */
    .content {
      @apply flex-1 ml-64 p-6 transition-all duration-300;
    }

    /* Course Cards */
    #ap-list {
      @apply max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center;
    }

    .course-card {
      @apply bg-vibrant-purple/80 backdrop-blur-sm p-6 rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-[0_0_15px_rgba(240,171,252,0.5)] animate-fade-in w-full max-w-md;
    }

    .course-card button {
      @apply w-full text-center text-white font-medium p-3 rounded-lg hover:bg-neon-magenta/30 transition-all duration-200;
    }

    .course-card button:active {
      @apply transform scale-95;
    }

    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Modals */
    #settingsModal, #reselectModal {
      @apply fixed inset-0 bg-black/70 flex items-center justify-center z-50 transition-opacity duration-500;
    }

    #settingsModal .modal-content, #reselectModal .modal-content {
      @apply bg-vibrant-purple/85 backdrop-blur-md p-8 rounded-2xl shadow-2xl max-w-lg w-full mx-4 transform transition-all duration-500 scale-0 animate-modal-in flex flex-col items-center;
    }

    @keyframes modal-in {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    #settingsModal button, #reselectModal button {
      @apply px-4 py-2 rounded-lg bg-neon-magenta text-white font-semibold transition-all duration-200 hover:bg-light-lavender hover:shadow-[0_0_10px_rgba(240,171,252,0.5)] transform hover:scale-105;
    }

    #settingsModal button:active, #reselectModal button:active {
      @apply transform scale-95;
    }

    #settingsModal #closeSettings, #reselectModal #closeReselect {
      @apply bg-white/10 hover:bg-white/20 text-light-lavender;
    }

    /* Quiz Modal */
    .quiz-modal {
      @apply fixed inset-0 bg-black/70 flex items-center justify-center z-50 transition-opacity duration-500;
    }

    .quiz-modal .modal-content {
      @apply bg-vibrant-purple/85 backdrop-blur-md p-8 rounded-2xl shadow-2xl max-w-2xl w-full mx-4 transform transition-all duration-500 animate-modal-in flex flex-col items-center;
    }

    .quiz-modal button {
      @apply px-4 py-2 rounded-lg bg-neon-magenta text-white font-semibold transition-all duration-200 hover:bg-light-lavender hover:shadow-[0_0_10px_rgba(240,171,252,0.5)] transform hover:scale-105;
    }

    .quiz-modal button:active {
      @apply transform scale-95;
    }

    .quiz-modal textarea {
      @apply w-full bg-white/10 border-none p-3 rounded-lg text-white placeholder-gray-300 focus:ring-2 focus:ring-neon-magenta transition-all duration-200;
    }

    /* Welcome Message */
    #welcome {
      @apply text-2xl font-bold tracking-wide text-neon-magenta text-center;
    }

    /* Reselect Form */
    #reselectForm {
      @apply w-full;
    }

    #reselectForm label {
      @apply flex items-center justify-start mb-3 text-light-lavender font-medium;
    }

    #reselectForm input[type="checkbox"] {
      @apply h-5 w-5 text-neon-magenta focus:ring-neon-magenta rounded bg-white/10 mr-2;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .sidebar {
        @apply w-full h-auto fixed top-0 left-0 bg-vibrant-purple/90 p-4;
      }

      .content {
        @apply ml-0 mt-24;
      }

      #ap-list {
        @apply grid-cols-1;
      }

      .course-card {
        @apply max-w-full;
      }

      .quiz-modal .modal-content {
        @apply max-w-full mx-2;
      }

      #settingsModal .modal-content, #reselectModal .modal-content {
        @apply max-w-full mx-2;
      }
    }

    /* Staggered Animation for Cards */
    .course-card {
      animation-delay: calc(var(--index) * 100ms);
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <div class="p-6 flex flex-col items-center">
      <div class="flex flex-col items-center mb-8">
        <img src="grape.png" alt="Grape Logo" class="w-12 h-12 mb-3">
        <h1 id="welcome" class="text-2xl font-bold text-neon-magenta"></h1>
      </div>
      <button id="settingsBtn" class="flex items-center justify-center gap-2 w-full mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
        </svg>
        Settings
      </button>
      <button id="logoutBtn" class="flex items-center justify-center gap-2 w-full">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h3a3 3 0 013 3v1" />
        </svg>
        Log Out
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="content">
    <div id="ap-list" class="ap-list"></div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="hidden">
      <div class="modal-content">
        <h2 class="text-2xl font-bold text-neon-magenta mb-6">Settings</h2>
        <button id="reselectBtn" class="w-full">Reselect AP Courses</button>
        <button id="closeSettings" class="mt-4">Close</button>
      </div>
    </div>

    <!-- Reselect Modal -->
    <div id="reselectModal" class="hidden">
      <div class="modal-content">
        <h2 class="text-2xl font-bold text-neon-magenta mb-6">Reselect AP Courses</h2>
        <form id="reselectForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-96 overflow-y-auto mb-6"></form>
        <div class="flex flex-col gap-3 items-center">
          <button id="saveReselect" class="w-1/2">Save</button>
          <button id="closeReselect" class="w-1/2">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    // Apply staggered animation to course cards
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.querySelectorAll('.course-card');
      cards.forEach((card, index) => {
        card.style.setProperty('--index', index);
      });
    });
  </script>
  <script type="module" src="dashboard.js"></script>
</body>
</html>
